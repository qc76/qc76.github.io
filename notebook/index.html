<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <title>Notebook</title>
  <link rel="stylesheet" href="tufte.css"/>
  <link rel="stylesheet" href="latex.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/x-mathjax-config">
  	MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>
  <script type="text/javascript" async
     src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
  </script>
</head>

<body>
  <article>
    <h1>Notebook</h1>
    <p class="subtitle">Qiong Cai (last updated on March 6, 2016)</p>

    <p> I will put an entry in this book every time I learn something. The entries are organized in alphabetical order.</p>

    <section>
        <h2>Concetps in C++</h2>
		<p>A bit of background for concepts is given by Bjarne Stroustrup.<label for="concept-stroustrup" class="margin-toggle sidenote-number"></label><input type="checkbox" id="concept-stroustrup" class="margin-toggle"/> <span class="sidenote">See Stroustrup's article <a href="https://isocpp.org/blog/2016/02/a-bit-of-background-for-concepts-and-cpp17-bjarne-stroustrup">here</a>.</span></p>
    </section>

    <section>
    	<h2>Infiniband</h2>
    </section>

    <section>
	<h2>Little's Law</h2>

	<p>Little's Law establishes the relationship among the average queue length $L$ in terms of units, the residence time in the queue $R$ in terms of seconds, and 
	the arrival rate $\lambda$ in terms of units per second:
		\[ L = \lambda R \]
	or 
		\[ \text{units} = \text{(units/second)} \times \text{(seconds)} \]
	</p>
    </section>

   <section>
	<h2>MetaPost Examples</h2>

    <p><a href="https://www.tug.org/metapost.html">MetaPost</a> is a language and tool to develop high quality graphics. It is developed by John Hobby, and it is based on Metafont developed by Donald Knuth.
    I will list some representative examples in this page and keep all MetaPost source files <a href="https://github.com/qc76/metapost/">here</a>.  </p>
   </section>

   <p><label for="box-diagram" class="margin-toggle"></label><input type="checkbox" id="box-diagram" class="margin-toggle"/><span class="marginnote">
	  <img src="img/box-diagram.svg" alt="Figure of block diagram generated by metapost"/><br>The control flow graph used in my PhD thesis is 
      generated by MetaPost.</span><span class="code">MetaPost</span> provides <span class="code">boxes</span> package, which is very useful to 
	  generate block diagrams. The following codes regenerate the control flow graph used in my PhD thesis by using <span class="code">boxes</span>
      package.
   </p>
   <pre class="code">
prologues :=3;
outputformat := "svg";

input boxes
beginfig(1);
boxit.b1(btex $S$ etex);
b1.dx = 22bp;
b1.dy = 4bp;
boxit.b2(btex $\eqalign{x&=a+b\cr a&=1}$ etex);
boxit.b3(btex $\eqalign{a&=c*b}$ etex);
boxit.b4(btex $\eqalign{b&=x+1\cr x&=a+b}$ etex);
boxit.b5(btex $\phantom{\eqalign{a&=c*b}}$ etex);
boxit.b6(btex $\phantom{\eqalign{a&=c*b}}$ etex);
boxit.b7(btex $\phantom{\eqalign{a&=c*b}}$ etex);
boxit.b8(btex $\eqalign{x&=a+b\cr b&=y-c\cr z&=a+b}$ etex);
boxit.b9(btex $\phantom{\eqalign{a&=c*b}}$ etex);
boxit.b10(btex $\phantom{\eqalign{a&=c*b}}$ etex);
boxit.b11(btex $\eqalign{y&=a+b}$ etex);
boxit.b12(btex $\eqalign{x&=a+b}$ etex);
boxit.b13(btex $T$ etex);
b13.dx = 22bp;
b13.dy = 4bp;

% fix the coordindates
numeric vsep; vsep := 20bp;
b1.sw - b2.ne = (0, vsep);
b1.se - b3.nw = (0, vsep+5);
b3.se - b4.nw = (0, vsep);
b4.sw - b5.ne = (0, vsep);
b5.sw - b6.ne = (0, vsep);
b6.sw - b7.ne = (0, vsep);
b7.sw - b8.ne = (0, vsep);
b8.se - b9.nw = (0, vsep);
b6.se - b10.nw = (0,vsep);
xpart b12.s = xpart b10.s;
ypart b12.s = ypart b9.s;
xpart b11.w = xpart b10.e;
ypart b11.w = ypart b10.se - (ypart b10.se - ypart b12.ne)/2;
xpart b13.n = xpart b1.n;
ypart b13.n = ypart b12.s - vsep;

% draw the boxes
drawboxed(b1,b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13); 

% draw the labels
label.lft("b1", b1.w);
label.lft("b2", b2.w);
label.lft("b3", b3.w);
label.lft("b4", b4.w);
label.lft("b5", b5.w);
label.lft("b6", b6.w);
label.lft("b7", b7.w);
label.lft("b8", b8.w);
label.lft("b9", b9.w);
label.lft("b10", b10.w);
label.lft("b11", b11.w);
label.lft("b12", b12.w);
label.lft("b13", b13.w);

% draw the edges
drawarrow b1.s -- b2.n;
drawarrow b1.s -- b3.n;
drawarrow b3.s -- b4.n;
drawarrow b3.s -- b5.n;
drawarrow b4.s -- b5.n;
drawarrow b2.s -- b6.n;
drawarrow b5.s -- b6.n;
drawarrow b6.s -- b7.n;
drawarrow b7.s -- b8.n;
drawarrow b7.s -- b9.n;
drawarrow b8.s -- b9.n;
drawarrow b6.s -- b10.n;
drawarrow b10.s -- b11.n;
drawarrow b10.s -- b12.n;
drawarrow b9.s -- b13.n;
drawarrow b12.s -- b13.n;
z1 = b11.se - (0,20bp);
z2 = b11.e + (20bp, 0);
xpart z3 = xpart b11.se ;
ypart z3 = ypart b10.n + 20bp;
drawarrow b11.s..z1..z2..z3..b10.n;
endfig;

end;
   </pre>

  <p><label for="graph-diagram" class="margin-toggle"></label><input type="checkbox" id="graph-diagram" class="margin-toggle"/><span class="marginnote">
	  <img src="img/graph.1.svg" alt="Figure of Graph 1 example"/><br>The bandwidth and latency trend is 
      generated by MetaPost.</span><span class="code">MetaPost</span> can also generate data points. 
   </p>
   <pre class="code">
scrolling :=1;
prologues :=3;
outputformat := "svg";
% default font in " " is Palatino
defaultfont := "pplr8r";

verbatimtex
%&latex
\documentclass{article}
\usepackage[sc]{mathpazo} 
\usepackage[scaled]{helvet}
\usepackage{eulervm}
\begin{document}
etex

beginfig(1);
numeric u, v, tip, sep, d, m;
u = 8cm;
v = 7.5cm;
sep = 0.5cm;
tip=3pt;
d=10pt;
m=1.5cm;

% draw x-axis and y-axis with labels
% in the grid
drawarrow (0,0)..(0,u);
drawarrow (0,0)..(u,0);

label.top(btex \begin{tabular}{c}\textbf{InfiniBand Bandwidth for} \\
			textbf{x16 links (Gb/s)} \end{tabular} etex, (0,u));
label.bot(btex \textbf{Latency (us)} etex, (u/2,-sep));

for i=1 step 1 until 6:
	draw (v*i/6,0)--(v*i/6,tip);
	label.bot(decimal(i), (v*i/6,0));
endfor

for i=16 step 16 until 128:
	draw (0, v*i/128)--(tip, v*i/128);
	label.lft(decimal(i), (0, v*i/128));
endfor

% define a function to translate the data points
% to (x,y) coordindates in the grid
vardef scaleddata(expr z)=
	numeric x, y;
	x = xpart z * v/6;
    y = ypart z * v/128;
	(x,y)
enddef;

% draw data points and arrows
numeric x, y;

z0 = scaleddata((5,2*4));
drawdot z0 withpen pencircle scaled 4;
label.rt(btex SDR etex, z0+(0,2*tip));

z1 = scaleddata((2.5,4*4));
drawdot z1 withpen pencircle scaled 4;

x := xpart z0 - xpart z1;
y := ypart z1 - ypart z0;
drawarrow z0+(-d, (y/x)*d)..z1+(d, -(y/x)*d);
label.rt(btex DDR etex, z1+(0,2*tip));

z2 = scaleddata((1.5,8*4));
drawdot z2 withpen pencircle scaled 4;
x := xpart z1 - xpart z2;
y := ypart z2 - ypart z1;
drawarrow z1+(-d/2, (y/x)*d/2)..z2+(d/2, -(y/x)*d/2);
label.rt(btex QDR etex, z2+(0, 2*tip));

z3 = scaleddata((0.7,13.64*4));
drawdot z3 withpen pencircle scaled 4;
x := xpart z2 - xpart z3;
y := ypart z3 - ypart z2;
drawarrow z2+(-d/3, (y/x)*d/3)..z3+(d/3, -(y/x)*d)/3;
label.rt(btex FDR etex, z3+(0,2*tip));

z4 = scaleddata((0.5,24.24*4));
drawdot z4 withpen pencircle scaled 4;
x := xpart z3 - xpart z4;
y := ypart z4 - ypart z3;
drawarrow z3+(-d/12, (y/x)*d/12)..z4+(d/12, -(y/x)*d/12);
label.rt(btex EDR etex, z4+(0,2*tip));

z5 = scaleddata((0,32));
drawarrow z5+(-m, 0)..z5+(-2*d,0);
label.lft(btex \begin{tabular}{c}PCIe \\1.0 \end{tabular} etex, z5+(-m,0));

z6 = scaleddata((0,64));
drawarrow z6+(-m, 0)..z6+(-2*d,0);
label.lft(btex \begin{tabular}{c}PCIe \\2.0 \end{tabular} etex, z6+(-m,0));

z7 = scaleddata((0,128));
drawarrow z7+(-m, 0)..z7+(-2*d,0);
label.lft(btex \begin{tabular}{c}PCIe \\3.0 \end{tabular} etex, z7+(-m,0));

endfig;

end;
   </pre>


    <section>
        <h2>NUMALink</h2>
    </section>


    <section>
	<h2>Omni-Path Network Fabric</h2>
    </section>

    <section>
    	<h2>PCI-Express</h2>
    </section>
	
     <section>
	<h2>QuickPath Interconnect (QPI) from Intel</h2>
    </section>

    <section>
        <h2>RDMA </h2>
    </section>

    <section>
    	<h2>Spark</h2>
    </section>

    <section>
    	<h2>Superdome X<h2>
    </section>



    <section>
    	<h2>Tensorflow</h2>
    </section>
	
    <section>
	<h2>TCP Offload Engine(TOE)</h2>
	
	<p>TCP offload engine (TOE) is a technology in which offloads some or full TCP/IP software stack into a dedicated hardware in a network interface card.
	</p>
    </section>

    <section>
         <h2>UV300 Series</h2>
    </section>

  </article>
</body>
</html>
